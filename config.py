# config.py
import os
from dotenv import load_dotenv # –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å .env —Ñ–∞–π–ª

load_dotenv() # –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
BOT_TOKEN = os.getenv("BOT_TOKEN")

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
# os.getenv("ADMIN_IDS", "") - –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –∏–∑ .env.
# .split(',') - —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É –ø–æ –∑–∞–ø—è—Ç—ã–º, –ø–æ–ª—É—á–∞—è —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ['682496357', '987654321']).
# map(int, ...) - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.
# list(...) - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç map –≤ –æ–±—ã—á–Ω—ã–π —Å–ø–∏—Å–æ–∫.
# –ï—Å–ª–∏ ADMIN_IDS –Ω–µ—Ç –≤ .env, —Ç–æ os.getenv –≤–µ—Ä–Ω–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É, –∏ list(map...) —Å–æ–∑–¥–∞—Å—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, —á—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ.
ADMIN_IDS = list(map(int, os.getenv("ADMIN_IDS", "").split(',')))

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DATABASE_NAME = os.getenv("DATABASE_NAME", "orders_bot.db") # –ï—Å–ª–∏ DATABASE_NAME –Ω–µ—Ç –≤ .env, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ, –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –∫–æ–¥–µ)
import logging
LOGGING_LEVEL = logging.INFO # –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ logging.DEBUG –¥–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

ORDERS_PER_PAGE = int(os.getenv("ORDERS_PER_PAGE", 10)) # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º 5 –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

# --- –°–õ–û–í–ê–†–¨ –°–û–°–¢–û–Ø–ù–ò–ô –ó–ê–ö–ê–ó–ê ---
ORDER_STATUS_MAP = {
    'new': '–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ üìù',                   # –¢–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω, –∂–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
    'awaiting_stock_check': '–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ üîç', # –û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–∞
    'in_stock_confirmed': '–ù–∞–ª–∏—á–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ, –æ–ø–ª–∞—Ç–∞ üí∞', # –¢–æ–≤–∞—Ä –µ—Å—Ç—å, –æ–∂–∏–¥–∞–µ–º –æ–ø–ª–∞—Ç—ã
    'payment_received': '–û–ø–ª–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∞ ‚úÖ',       # –î–µ–Ω—å–≥–∏ –ø—Ä–∏—à–ª–∏, –≥–æ—Ç–æ–≤–∏–º –∫ –ø–µ—Ä–µ–¥–∞—á–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É
    'transfer_to_supplier': '–ü–µ—Ä–µ–¥–∞–µ–º –ø–æ—Å—Ç–∞–≤—â–∏–∫—É ‚û°Ô∏è', # –ó–∞–∫–∞–∑ –ø–µ—Ä–µ–¥–∞–Ω –ø–æ—Å—Ç–∞–≤—â–∏–∫—É –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É
    'awaiting_shipment': '–û–∂–∏–¥–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ —Å–∫–ª–∞–¥–∞ üì¶', # –ü–æ—Å—Ç–∞–≤—â–∏–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –≥–æ—Ç–æ–≤–∏—Ç –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ
    'shipped': '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω —Å–æ —Å–∫–ª–∞–¥–∞ üöö',        # –¢–æ–≤–∞—Ä –ø–µ—Ä–µ–¥–∞–Ω –≤ —Å–ª—É–∂–±—É –¥–æ—Å—Ç–∞–≤–∫–∏
    'in_transit': '–í –ø—É—Ç–∏ –∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—é üõ£Ô∏è',    # –î–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫—É—Ä—å–µ—Ä—Å–∫–æ–π —Å–ª—É–∂–±–æ–π/–ø–æ—á—Ç–æ–π
    'ready_for_pickup': '–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ üìç',      # –î–ª—è —Å–∞–º–æ–≤—ã–≤–æ–∑–∞ –∏–ª–∏ –≤ –ü–í–ó
    'delivered': '–î–æ—Å—Ç–∞–≤–ª–µ–Ω üéâ',             # –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω –∫–ª–∏–µ–Ω—Ç–æ–º (–∞–Ω–∞–ª–æ–≥ 'completed')
    'cancelled': '–û—Ç–º–µ–Ω–µ–Ω ‚ùå',               # –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω (–∫–ª–∏–µ–Ω—Ç–æ–º –∏–ª–∏ –ø–æ –∏–Ω–æ–π –ø—Ä–∏—á–∏–Ω–µ)
    'on_hold': '–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚è∏Ô∏è',           # –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞—É–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Ç–æ—á–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –∫–ª–∏–µ–Ω—Ç–æ–º)
    'return_requested': '–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç ‚Ü©Ô∏è', # –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –≤–æ–∑–≤—Ä–∞—Ç
    'returned': '–í–æ–∑–≤—Ä–∞—â–µ–Ω üîô'               # –¢–æ–≤–∞—Ä –≤–æ–∑–≤—Ä–∞—â–µ–Ω –ø–æ—Å—Ç–∞–≤—â–∏–∫—É
}

# –°—Ç–∞—Ç—É—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è "–∞–∫—Ç–∏–≤–Ω—ã–º–∏" –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –µ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏)
# –≠—Ç–æ –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã, –∫—Ä–æ–º–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö (–¥–æ—Å—Ç–∞–≤–ª–µ–Ω, –æ—Ç–º–µ–Ω–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–µ–Ω)
ACTIVE_ORDER_STATUSES = [
    'new',
    'awaiting_stock_check',
    'in_stock_confirmed',
    'payment_received',
    'transfer_to_supplier',
    'awaiting_shipment',
    'shipped',
    'in_transit',
    'ready_for_pickup',
    'on_hold'
]
